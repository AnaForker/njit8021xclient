<html>
	<head>	<meta http-equiv="content-type" content="text/html;charset=UTF-8">
		<title>NJIT 802.1X Client -- Documents</title>
	</head>
		<pre>
===============================================================================
南京工程学院 - 校园网802.1X客户端 - 项目文档
-------------------------------------------------------------------------------
参考AGanNo2的相关介绍，在此将版本号加密/解密步骤整理如下。

[H3C版本号加密流程]

选取任意32位随机数，并生成相应字符串形式备用
	uint32_t   key;
	char       szkey[8+1];
	sprintf(szkey, "%08x", key);

加密步骤：
char version[20]="EN V2.40-0335";   (20字节 = 16字节版本号 + 预留4字节)
     ｜
     ｜   异或
     ｜《—————— szkey[]
     ｜
     ｜
     ｜   将key填入version[]的最后4字节
     ｜《———————————————————————————————
     ｜
     ｜
     ｜   异或
     ｜《—————— "HuaWei3COM1X"
     ｜
加密后的verison[20]
     ｜
     ｜   按照Base64格式重新编码
     ｜《————————————————————————
     ｜
生成28字节版本号秘文





[H3C认证服务器解读版本号流程]

28字节版本号秘文
　　　｜
　　　｜　　Base64解码
　　　｜《—————————————
　　　｜
verison[20]
　　　｜
　　　｜　　异或
　　　｜《————————　"HuaWei3COM1X"
　　　｜
version[20]
　　　｜　　\ 
　　　｜　　 \
　前16字节　　取出末尾4字节，即key
　　　｜　　　　　　　｜
　　　｜　　　　　　　｜
　　　｜　　　　　　　｜
　　　｜　　异或　　　｜
　　　｜《——————　szkey[]
　　　｜
　　　｜
还原成版本号字符串"EN V2.40-0335"

===============================================================================
		</pre>
	</body>
</html>
